<!DOCTYPE html>
<html lang="en">
<head>
    <title>RestRight - Optimal Bedtime Calculator</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Gabarito:wght@400..900&family=Playwrite+AR&family=Poppins:ital,wght@0,200;0,300;0,400;0,500;0,900;1,200;1,300;1,400;1,500;1,900&family=Ubuntu&display=swap" rel="stylesheet">
</head>
<body>
    <div class="cover">
        <div class="title">
            <h1 class="poppins-black">Rest Right</h1>
            <h class="poppins-light">FIND YOUR OPTIMAL BEDTIME</h4>
        </div>

        <label for="wakeUpTime">WAKR UP TIME:<label>
        <input type="time" id="wakeUpTime"><br><br>

        <label for="sleepDuration">HOURS OF SLEEP</label>
        <input type="number" id="sleepDuration" min="1" max="24"><br><br>

        <button onclick="findBedtime()" class="button">Calculate Bedtime</button>

        <h2 id="result"></h2>
    </div>

    <script>
        function findBedtime() {
            // Get the wake-up time and sleep duration from the user
            var wakeUpTime = document.getElementById("wakeUpTime").value;
            var sleepDuration = document.getElementById("sleepDuration").value;

            if (!wakeUpTime || !sleepDuration) {
                document.getElementById("result").innerText = "Please enter both wake-up time and sleep duration.";
                return;
            }

            // Split the wake-up time into hours and minutes
            var timeParts = wakeUpTime.split(":");
            var wakeUpHour = parseInt(timeParts[0]);
            var wakeUpMinute = parseInt(timeParts[1]);

            // Subtract sleep duration from the wake-up time
            var bedtimeHour = wakeUpHour - sleepDuration;
            var bedtimeMinute = wakeUpMinute;

            if (bedtimeHour < 0) {
                bedtimeHour += 24;
            }

            var period = bedtimeHour >= 12 ? "PM" : "AM";  // Determine AM or PM
            var hourIn12hrFormat = bedtimeHour % 12;  // Convert hour to 12-hour format

            // If the hour is 0, it should be 12 (for midnight)
            if (hourIn12hrFormat === 0) {
                hourIn12hrFormat = 12;
            }

            var formattedMinute = bedtimeMinute < 10 ? "0" + bedtimeMinute : bedtimeMinute;

            var bedtime = hourIn12hrFormat + ":" + formattedMinute + " " + period;

            document.getElementById("result").innerText = "Your optimal bedtime is: " + bedtime;
        }
    </script>
</body>
</html>
